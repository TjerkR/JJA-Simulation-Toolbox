function [x,y,u,v] = JJAsim_priv_arrows_2D(arrowPosition,direction,islandDiameter,lengthFactor)%parsing inputif nargin < 2    direction = 1;endif nargin < 3    islandDiameter = 0.2;endif nargin < 4    lengthFactor = 1;end%initializing coordinates for quiver plotNArrows = size(arrowPosition,1);x = zeros(NArrows,1);y = zeros(NArrows,1);u = zeros(NArrows,1);v = zeros(NArrows,1);if size(direction,1) == 1    direction = direction*ones(NArrows,1);end%calculating coordinates for quiver plotfor i = 1:NArrows    dp = arrowPosition(i,3:4) - arrowPosition(i,1:2);    L = (1-islandDiameter)*abs(direction(i))*lengthFactor;    c = 1/2*(arrowPosition(i,3:4) + arrowPosition(i,1:2));    if direction(i) > 0        r = c - L/2*dp;        uv = L*dp;    else        r = c + L/2*dp;        uv = -L*dp;      end    x(i) = r(1);    y(i) = r(2);    u(i) = uv(1);    v(i) = uv(2);endend